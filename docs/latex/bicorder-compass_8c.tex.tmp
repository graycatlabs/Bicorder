\hypertarget{bicorder-compass_8c}{}\section{bicorder-\/compass.c File Reference}
\label{bicorder-compass_8c}\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}


A library for generating a compass display on the Bicorder.  


{\ttfamily \#include \char`\"{}bicorder-\/compass.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gcl-\/fixedpoint.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}e\+G\+F\+X.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}e\+G\+F\+X\+\_\+\+Data\+Types.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Fonts/\+F\+O\+N\+T\+\_\+3\+\_\+5\+\_\+1\+B\+P\+P.\+h\char`\"{}}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
Include dependency graph for bicorder-\/compass.c\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{bicorder-compass_8c_a25d1189ee5127c18accd79eb68019cde}{Compass\+\_\+\+Init} (\hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} $\ast$compass)
\begin{DoxyCompactList}\small\item\em Initializes the given compass object. \end{DoxyCompactList}\item 
void \hyperlink{bicorder-compass_8c_a3e79bc358c252d3044f23b7e0766b54f}{Compass\+\_\+\+Update\+XY} (\hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} $\ast$compass, int\+\_\+fp x, int\+\_\+fp y)
\begin{DoxyCompactList}\small\item\em Sets the current X and Y magnetic field strength of the given compass object. \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{bicorder-compass_8c_a0fd608a7bf9aea8112efb03a4bc9bc5f}{Compass\+\_\+\+Calculate\+Heading} (\hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} $\ast$compass)
\begin{DoxyCompactList}\small\item\em Calculates and returns the current compass heading in degrees. \end{DoxyCompactList}\item 
\hyperlink{bicorder-compass_8h_a642eb4472a57f1a847ee101e3b7af5ba}{Compass\+\_\+direction} \hyperlink{bicorder-compass_8c_a1051f457631ee90b4f082177cf19d469}{Compass\+\_\+\+Heading\+To\+Direction} (uint16\+\_\+t heading)
\begin{DoxyCompactList}\small\item\em Returns the current compass direction from the given heading,. \end{DoxyCompactList}\item 
void \hyperlink{bicorder-compass_8c_a0ae721c1c17301cdf28bd0668a4f90af}{Compass\+\_\+\+Draw} (e\+G\+F\+X\+\_\+\+Image\+Plane $\ast$image, \hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} $\ast$compass, \hyperlink{bicorder-compass_8h_a7e36843c53aaafda9795876e659ffe7b}{Compass\+\_\+side} side)
\begin{DoxyCompactList}\small\item\em Returns the current compass direction from the given heading,. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t {\bfseries north\+\_\+offset\+\_\+x} \mbox{[}16\mbox{]}
\item 
int8\+\_\+t {\bfseries north\+\_\+offset\+\_\+y} \mbox{[}16\mbox{]}
\item 
int8\+\_\+t {\bfseries south\+\_\+offset\+\_\+x} \mbox{[}16\mbox{]}
\item 
int8\+\_\+t {\bfseries south\+\_\+offset\+\_\+y} \mbox{[}16\mbox{]}
\item 
int8\+\_\+t {\bfseries base\+\_\+offset\+\_\+x} \mbox{[}16\mbox{]}
\item 
int8\+\_\+t {\bfseries base\+\_\+offset\+\_\+y} \mbox{[}16\mbox{]}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A library for generating a compass display on the Bicorder. 

\begin{DoxyAuthor}{Author}
Alex Hiam -\/ \href{mailto:alex@graycat.io}{\tt alex@graycat.\+io} 
\end{DoxyAuthor}


\subsection{Function Documentation}
\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!Compass\+\_\+\+Calculate\+Heading@{Compass\+\_\+\+Calculate\+Heading}}
\index{Compass\+\_\+\+Calculate\+Heading@{Compass\+\_\+\+Calculate\+Heading}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{Compass\+\_\+\+Calculate\+Heading(u\+Corder\+\_\+\+Compass $\ast$compass)}{Compass_CalculateHeading(uCorder_Compass *compass)}}]{\setlength{\rightskip}{0pt plus 5cm}uint16\+\_\+t Compass\+\_\+\+Calculate\+Heading (
\begin{DoxyParamCaption}
\item[{{\bf u\+Corder\+\_\+\+Compass} $\ast$}]{compass}
\end{DoxyParamCaption}
)}\hypertarget{bicorder-compass_8c_a0fd608a7bf9aea8112efb03a4bc9bc5f}{}\label{bicorder-compass_8c_a0fd608a7bf9aea8112efb03a4bc9bc5f}


Calculates and returns the current compass heading in degrees. 


\begin{DoxyParams}{Parameters}
{\em compass} & An initialized \hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} object\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the current heading in degrees 
\end{DoxyReturn}


Definition at line 49 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!Compass\+\_\+\+Draw@{Compass\+\_\+\+Draw}}
\index{Compass\+\_\+\+Draw@{Compass\+\_\+\+Draw}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{Compass\+\_\+\+Draw(e\+G\+F\+X\+\_\+\+Image\+Plane $\ast$image, u\+Corder\+\_\+\+Compass $\ast$compass, Compass\+\_\+side side)}{Compass_Draw(eGFX_ImagePlane *image, uCorder_Compass *compass, Compass_side side)}}]{\setlength{\rightskip}{0pt plus 5cm}void Compass\+\_\+\+Draw (
\begin{DoxyParamCaption}
\item[{e\+G\+F\+X\+\_\+\+Image\+Plane $\ast$}]{image, }
\item[{{\bf u\+Corder\+\_\+\+Compass} $\ast$}]{compass, }
\item[{{\bf Compass\+\_\+side}}]{side}
\end{DoxyParamCaption}
)}\hypertarget{bicorder-compass_8c_a0ae721c1c17301cdf28bd0668a4f90af}{}\label{bicorder-compass_8c_a0ae721c1c17301cdf28bd0668a4f90af}


Returns the current compass direction from the given heading,. 


\begin{DoxyParams}{Parameters}
{\em heading} & Heading in degrees\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a compass direction. 
\end{DoxyReturn}


Definition at line 109 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!Compass\+\_\+\+Heading\+To\+Direction@{Compass\+\_\+\+Heading\+To\+Direction}}
\index{Compass\+\_\+\+Heading\+To\+Direction@{Compass\+\_\+\+Heading\+To\+Direction}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{Compass\+\_\+\+Heading\+To\+Direction(uint16\+\_\+t heading)}{Compass_HeadingToDirection(uint16_t heading)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Compass\+\_\+direction} Compass\+\_\+\+Heading\+To\+Direction (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{heading}
\end{DoxyParamCaption}
)}\hypertarget{bicorder-compass_8c_a1051f457631ee90b4f082177cf19d469}{}\label{bicorder-compass_8c_a1051f457631ee90b4f082177cf19d469}


Returns the current compass direction from the given heading,. 


\begin{DoxyParams}{Parameters}
{\em heading} & Heading in degrees\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a compass direction. 
\end{DoxyReturn}


Definition at line 63 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!Compass\+\_\+\+Init@{Compass\+\_\+\+Init}}
\index{Compass\+\_\+\+Init@{Compass\+\_\+\+Init}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{Compass\+\_\+\+Init(u\+Corder\+\_\+\+Compass $\ast$compass)}{Compass_Init(uCorder_Compass *compass)}}]{\setlength{\rightskip}{0pt plus 5cm}void Compass\+\_\+\+Init (
\begin{DoxyParamCaption}
\item[{{\bf u\+Corder\+\_\+\+Compass} $\ast$}]{compass}
\end{DoxyParamCaption}
)}\hypertarget{bicorder-compass_8c_a25d1189ee5127c18accd79eb68019cde}{}\label{bicorder-compass_8c_a25d1189ee5127c18accd79eb68019cde}


Initializes the given compass object. 


\begin{DoxyParams}{Parameters}
{\em compass} & The \hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} object to initialize \\
\hline
\end{DoxyParams}


Definition at line 39 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!Compass\+\_\+\+Update\+XY@{Compass\+\_\+\+Update\+XY}}
\index{Compass\+\_\+\+Update\+XY@{Compass\+\_\+\+Update\+XY}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{Compass\+\_\+\+Update\+X\+Y(u\+Corder\+\_\+\+Compass $\ast$compass, int\+\_\+fp x, int\+\_\+fp y)}{Compass_UpdateXY(uCorder_Compass *compass, int_fp x, int_fp y)}}]{\setlength{\rightskip}{0pt plus 5cm}void Compass\+\_\+\+Update\+XY (
\begin{DoxyParamCaption}
\item[{{\bf u\+Corder\+\_\+\+Compass} $\ast$}]{compass, }
\item[{int\+\_\+fp}]{x, }
\item[{int\+\_\+fp}]{y}
\end{DoxyParamCaption}
)}\hypertarget{bicorder-compass_8c_a3e79bc358c252d3044f23b7e0766b54f}{}\label{bicorder-compass_8c_a3e79bc358c252d3044f23b7e0766b54f}


Sets the current X and Y magnetic field strength of the given compass object. 


\begin{DoxyParams}{Parameters}
{\em compass} & An initialized \hyperlink{structuCorder__Compass}{u\+Corder\+\_\+\+Compass} object \\
\hline
{\em x} & The current X axis field strength \\
\hline
{\em y} & The current Y axis field strength \\
\hline
\end{DoxyParams}


Definition at line 44 of file bicorder-\/compass.\+c.



\subsection{Variable Documentation}
\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!base\+\_\+offset\+\_\+x@{base\+\_\+offset\+\_\+x}}
\index{base\+\_\+offset\+\_\+x@{base\+\_\+offset\+\_\+x}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{base\+\_\+offset\+\_\+x}{base_offset_x}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t base\+\_\+offset\+\_\+x\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_a98787995d5633458ea73de2c1cd3506e}{}\label{bicorder-compass_8c_a98787995d5633458ea73de2c1cd3506e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  4, 4, 3, 2, 0, -1, -2, -3, -3, -3, -2, -1, 0, 2, 3, 4,
\}
\end{DoxyCode}


Definition at line 100 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!base\+\_\+offset\+\_\+y@{base\+\_\+offset\+\_\+y}}
\index{base\+\_\+offset\+\_\+y@{base\+\_\+offset\+\_\+y}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{base\+\_\+offset\+\_\+y}{base_offset_y}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t base\+\_\+offset\+\_\+y\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_ab2d38ec490e55df278225434732d93bc}{}\label{bicorder-compass_8c_ab2d38ec490e55df278225434732d93bc}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  0, 2, 3, 4, 4, 4, 3, 2, 0, -1, -2, -3, -3, -3, -2, -1,
\}
\end{DoxyCode}


Definition at line 104 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!north\+\_\+offset\+\_\+x@{north\+\_\+offset\+\_\+x}}
\index{north\+\_\+offset\+\_\+x@{north\+\_\+offset\+\_\+x}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{north\+\_\+offset\+\_\+x}{north_offset_x}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t north\+\_\+offset\+\_\+x\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_a9e245bf201b495b96656c0373c22f087}{}\label{bicorder-compass_8c_a9e245bf201b495b96656c0373c22f087}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  0, -4, -7, -10, -11, -10, -7, -4, 0, 5, 8, 11, 12, 11, 8, 5,
\}
\end{DoxyCode}


Definition at line 84 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!north\+\_\+offset\+\_\+y@{north\+\_\+offset\+\_\+y}}
\index{north\+\_\+offset\+\_\+y@{north\+\_\+offset\+\_\+y}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{north\+\_\+offset\+\_\+y}{north_offset_y}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t north\+\_\+offset\+\_\+y\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_a1e4b5abf711c33a03ea86f97d207f380}{}\label{bicorder-compass_8c_a1e4b5abf711c33a03ea86f97d207f380}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  12, 11, 8, 5, 0, -4, -7, -10, -11, -10, -7, -4, 0, 5, 8, 11,
\}
\end{DoxyCode}


Definition at line 88 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!south\+\_\+offset\+\_\+x@{south\+\_\+offset\+\_\+x}}
\index{south\+\_\+offset\+\_\+x@{south\+\_\+offset\+\_\+x}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{south\+\_\+offset\+\_\+x}{south_offset_x}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t south\+\_\+offset\+\_\+x\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_afc3969d34ed39e2f95bb04cebb6fa843}{}\label{bicorder-compass_8c_afc3969d34ed39e2f95bb04cebb6fa843}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  0, 2, 4, 5, 5, 5, 4, 2, 0, -1, -3, -4, -4, -4, -3, -1,
\}
\end{DoxyCode}


Definition at line 92 of file bicorder-\/compass.\+c.

\index{bicorder-\/compass.\+c@{bicorder-\/compass.\+c}!south\+\_\+offset\+\_\+y@{south\+\_\+offset\+\_\+y}}
\index{south\+\_\+offset\+\_\+y@{south\+\_\+offset\+\_\+y}!bicorder-\/compass.\+c@{bicorder-\/compass.\+c}}
\subsubsection[{\texorpdfstring{south\+\_\+offset\+\_\+y}{south_offset_y}}]{\setlength{\rightskip}{0pt plus 5cm}int8\+\_\+t south\+\_\+offset\+\_\+y\mbox{[}16\mbox{]}}\hypertarget{bicorder-compass_8c_ad492060f38a636c2a8cdc244050327f8}{}\label{bicorder-compass_8c_ad492060f38a636c2a8cdc244050327f8}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
  -4, -4, -3, -1, 0, 2, 4, 5, 5, 5, 4, 2, 0, -1, -3, -4,
\}
\end{DoxyCode}


Definition at line 96 of file bicorder-\/compass.\+c.

